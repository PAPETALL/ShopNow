{% extends "shop/base.html" %}

{% block content %}

    <div class="row">
        <div class="col-md-12">
            <form class="card card-sm">
                <div class="card-body row no-gutters align-items-center">
                    <div class="col">
                        <input type="search" placeholder="Entrez le nom du produit que vous cherchez" name="item-name" class="form-control form-control-borderless">
                    </div>
                    <div class="col-auto">
                        <button type="submit" class="btn btn-success">Recherche</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    
    <!-- about.html -->

    <section class="about" style="background-color: #F2F2F2; margin-bottom: 30px; ">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h2>Votre destination pour des achats en ligne exceptionnels</h2>
                    <p><em>Bienvenue sur notre plateforme de commerce en ligne, où vous trouverez une sélection exceptionnelle de produits de qualité. Que vous recherchiez des vêtements, des gadgets électroniques, des articles ménagers ou des cadeaux uniques, nous avons tout ce dont vous avez besoin. Parcourez notre catalogue dès maintenant et découvrez des offres incroyables et une expérience de magasinage pratique et sécurisée.</em></p>
                </div>
                <div class="col-lg-6">
                    <!-- Ajoutez ici l'image si vous en avez une -->
                    <div class="col-lg-12">
                        <img src="https://www.moneyvox.fr/i/media/03i/003354if60.jpg" class="img-fluid" style="max-width: 100%;">
                    </div>
                    
                </div>
            </div>
        </div>
    </section>
    
        <div class="container-fluid">
         <div class="container" style="background-color: #F2F2F2; margin-bottom: 30px;" >
        <div class="row">
            <div class="col">
                <h1 class="text-center">Explorer notre collection maintenant !</h1>
            </div>
        </div>
    </div>
        </div>
    </section>
</div>    
    <div class="row">
        {% for product in product_object %}
        <div class="col-md-3">
            <div class="card">
                <img src="{{ product.image }}" alt="" class="card-ing-top">
                <div class="card-body">
                    <div id="aa{{ product.id }}" class="card-title">{{ product.title }}</div>
                    <div id="price{{ product.id }}" style="color:orange" class="card-text"> {{ product.price }}</div>
                    <a href="{{ product.id }}" class="btn btn-warning">Voir</a>
                    <button id="{{ product.id }}" class="btn ted btn-success">Ajouter</button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="row mt-3">
        <div class="col-md-3 offset-md-4">
            <ul class="pagination">
                {% if product_object.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ product_object.previous_page_number }}">Precedent</a>
                    </li>
                {% endif %}    

                    <li class="page-item active">
                        <a class="page-link" href="?page={{ product_object.number }}">{{ product_object.number }}</a>
                    </li>

                {% if product_object.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ product_object.next_page_number }}">Suivant</a>
                    </li>
                {% endif %} 

            </ul>
        </div>
    </div>
    <section class="shopnow-section" style="background-color: #F2F2F2; padding: 50px 0 ;  margin-bottom: 30px;">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h2>ShopNow</h2>
                    <p>ShopNow est une startup sénégalais dont l'objectif est de permettre aux Sénégalais d'acheter ou de vendre leurs produits en toute tranquillité. Nous nous engageons à fournir une plateforme sécurisée et conviviale qui connecte les vendeurs locaux et les acheteurs, facilitant ainsi les transactions commerciales et contribuant au développement économique du Sénégal.</p>
                </div>
                <div class="col-lg-6">
                    <img src="https://i0.wp.com/www.afrik-jeunes.net/wp-content/uploads/2019/11/codage.jpeg?fit=696%2C392&ssl=1" class="img-fluid" alt="Jeunes Sénégalais">
                </div>
            </div>
        </div>
    </section>
    
    <section class="gallery-section">
        <div class="container">
            <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="row">
                            <div class="col-md-4 mb-4">
                                <div class="card">
                                    <img src="https://api.electroniccorp.sn/storage/25-7-2021/nouveau-projet-9_ybtt-wvod7qxzynvzjs_x.webp" class="card-img-top" alt="Image 1">
                                    <div class="card-body">
                                        <h5 class="card-title">Ipad Pro</h5>
                                        <p class="card-text">L'iPad Pro 2020 est équipé d'une dalle LCD Liquid Retina. Sur modèle 11 pouces, la résolution est de 2 388 x 1 668. Sur modèle 12,9 pouces, la résolution est de 2 732 x 2 048. Dans tous les cas, la lumineuse de l'écran est de 600 nits, le nombre de pixels par pouce atteint 264.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card">
                                    <img src="https://i0.wp.com/gsmsenegal.com/wp-content/uploads/2021/05/sony-ps5-edition-digital.jpeg?fit=1000%2C1000&ssl=1" class="card-img-top" alt="Image 2">
                                    <div class="card-body">
                                        <h5 class="card-title">Sony PS5 Édition Digital</h5>
                                        <p class="card-text">Date de sortie	AN : 12 novembre 2020 JAP : 12 novembre 2020 INT : 19 novembre 2020 CHN : 15 mai 2021
                                            Processeur	AMD Zen 2 - 8 cœurs à 3,5 GHz
                                            Processeur graphique	AMD RDNA 2 - 36 CUs à 2,23 GHz (10,28 TFLOPS)
                                            Mémoire interne	16 Go GDDR6
                                            Espace de stockage	SSD interne de 825 Go (667 Go en usage réel)</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card">
                                    <img src="https://d10mhq06fikmnr.cloudfront.net/catalog/product/thumbnail/aac18fd65f37df5a64ccafb204a798f5408e5862de199b7e0c873acd/image/849535/1000x1000/110/0/h/u/hunter-rgb_group_galerie_4.png" class="card-img-top" alt="Image 3">
                                    <div class="card-body">
                                        <h5 class="card-title">PC Gamer Intel i7 Warrior</h5>
                                        <p class="card-text">Nom du produit

                                            PC Gamer Intel i7
                                            Warrior
                                            
                                            Code du produit
                                            
                                            Modèle CUH-2000
                                            
                                            Processeur principal
                                            
                                            Processeur à puce unique personnalisé
                                            
                                            Unité centrale : x86-64 AMD "Jaguar", 8 cœurs
                                            
                                            Processeur graphique : 1,84 TFLOPS, moteur graphique AMD Radeon™
                                            
                                            Mémoire
                                            
                                            GDDR5 8 Go
                                            
                                            Capacité de stockage*
                                            
                                            500 Go, 1 To
                                            
                                            Dimensions extérieures
                                            
                                            Environ 265 × 39 × 288 mm (largeur × hauteur × profondeur) 
                                            (projection maximale exclue)
                                            
                                        
                                            
                                            </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ajoutez d'autres éléments de carousel-item pour plus d'images de produits ici -->
                </div>
            </div>
        </div>
    </section>
    
    <footer class="footer" style="background-color: #F2F2F2; color: #000;">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>À propos</h5>
                    <p>ShopNow est une plateforme de commerce en ligne dédiée à offrir une expérience de magasinage exceptionnelle.</p>
                </div>
                <div class="col-md-4">
                    <h5>Liens rapides</h5>
                    <ul class="list-unstyled">
                        <li><a href="#">Accueil</a></li>
                        <li><a href="#">Produits</a></li>
                        <li><a href="#">À propos</a></li>
                        <li><a href="#">Contactez-nous</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact</h5>
                    <ul class="list-unstyled">
                        <li>Email: tallpape136@gmail.com</li>
                        <li>Téléphone: +221 70 758 68 17</li>
                        <li>Adresse: , Dakar, Sénégal</li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    
    
{% endblock %}

{% block js %}
    <script type="text/javascript">
        console.log('Juste pour tester ');
        if(localStorage.getItem('panier') == null){
            var panier = {};
        }else{
            panier = JSON.parse(localStorage.getItem('panier'));
        }
        $(document).on('click', '.ted', function(){
            console.log('ajouter');
            var item_id = this.id.toString();
            console.log(item_id);
            if(panier[item_id] != undefined){
                quantite = panier[item_id][0] +1 ;
                panier[item_id][0] = quantite;
                panier[item_id][2] += parseFloat(document.getElementById("price"+item_id).innerHTML);
            }else{
                quantite = 1;
                prix = parseFloat(document.getElementById("price"+item_id).innerHTML);
                nom =  document.getElementById("aa"+item_id).innerHTML;
                panier[item_id] = [quantite, nom, prix ];
                
            }
            console.log(panier);
            localStorage.setItem('panier', JSON.stringify(panier));
            document.getElementById("panier").innerHTML ="Panier("+ Object.keys(panier).length+")";
            
        });
        AfficherList(panier);
        function AfficherList(panier){
            var panierString = " ";
            panierString += "<h5>Voici votre liste</h5>";
            var index = 1;
            for(var x in panier){
                panierString += index;
                panierString += document.getElementById("aa"+x).innerHTML + " Qte: "+ panier[x][0] + "</br>";
                index +=1;
            }
            panierString += "<a href='/checkout' class='btn btn-primary'>Checkout</a>";
            $('[data-toggle="popover"]').popover();
            document.getElementById('panier').setAttribute('data-content', panierString);
        }

    </script>

{% endblock %}
